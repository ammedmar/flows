% !TEX root = ../flows.tex

\section{Flow comparison theorem}\label{S:flow comparison theorem}

\subsection{Discussion of the main result}

We recall and discuss consequences of our main result, before proving it below.
\maintheorem*

The time needed to flow to obtain the equality between intersection and cup product will vary depending on $W$ and $V$, but on any finite subcomplex we have the following uniformity.

\begin{corollary}\label{C:finite diagram}
	Let $M$ be a closed manifold with smooth cubulation $|X| \to M$, and let $F^*$ be a finitely-generated chain complex with chain map $g \colon F^*\to C^*_{\Gamma \pf}(M)$.
	Then, there is a $T \in \R$ such that for all $t > T$ the following diagram commutes:
	\begin{equation*}
		\begin{tikzcd} [row sep=tiny]
			& C^*_{\Gamma \pf}(M)^{\otimes 2} \arrow[r, "\cI \otimes \cI"] & \cochains(X)^{\otimes 2} \arrow[dd, "\sms"] \\
			F^*\otimes F^* \arrow[ur, in=180, out=45,"g\otimes g"] \arrow[dr, in=180, out=-45, "\f_t \circ g \; \uplus \; \f_{-t} \circ g"']& & \\
			& C^*_{\Gamma \pf}(M) \arrow[r, "\cI"] & \cochains(X).
		\end{tikzcd}
	\end{equation*}
\end{corollary}

In particular, if $F^*$ is the subcomplex of $C^*_\Gamma(M)$ generated by two cochains $\uW$ and $\uV$, this says that the diagram commutes for large enough $t$ starting with the chain $\uW\otimes\uV$ on the left, recapitulating \cref{T:main theorem} as a statement about cochains, not just elements of $\cman_\pf^*(M)$.

There are several other candidates for a useful finitely-generated complex $F^*$, with the most desirable being those whose maps to $C^*_{\Gamma \pf}(M)$ induce quasi-isomorphisms.
In that case, \cref{C:finite diagram} shows that the finitely-generated complex provides a geometric model for cubical cochains, though only as a differential graded associative algebra.
As discussed in the Introduction, we plan to strengthen this connection beyond the associative setting in future work.
A key example of a finitely-generated subcomplex of geometric cochains that is quasi-isomorphic to cubical cochains through intersection
is the dual complex to any cubulation whose cells are smooth manifolds with corners.
Unfortunately, it is not clear that such dual complexes always exist.

Another example of such an $F^*$ comes from an oriented manifold $M$ with a smooth triangulation $|K|\to M$ by a finite simplicial complex $K$, in addition to its cubulation.  A triangulation naturally gives rise to a subcomplex
of geometric cochains as follows. % with a vertex ordering.
Using the orientation $\beta_M$ of $M$, every simplicial face inclusion $\sigma\to M$ with $\sigma$ a simplex of $K$ is co-oriented by $(\beta_\sigma,\beta_M)$, where $\beta_\sigma$ is the standard orientation that arises from the ordering of the vertices of $\sigma$.
Thus we have an inclusion homomorphism $C_*(K)\into C^{m-*}_\Gamma(M)$, where $m = \dim(M)$.
This inclusion is a quasi-isomorphism, as the inclusion of $C_*(K)$ into the smooth singular chain complex %$C_*^{ssing}(M)$
 of $M$ is a known quasi-isomorphism, the map  from smooth singular chains to geometric chains
 is observed to be a quasi-isomorphism in \cite[Section 10]{Lipy14},
 and $C_*^\Gamma(M)=C^{m-*}_\Gamma(M)$ for $M$ closed and oriented. (See \cite[Section 12]{Lipy14} or \cite[Theorem 4.21]{medina2022foundations}.)

We  either construct or modify the triangulation so that  each simplex of $K$ is transverse to every face inclusion of the cubulation $|X|\to M$.   Given an arbitrary $|K|\to M$, this can be done by postcomposing with a map $f \colon M\to M$ that is homotopic to the identity, as in the proof of \cref{T:transverse complex}  given in \cite[Theorem 6.5]{medina2022foundations}, using the techniques of \cite[Section 2.3]{GuPo74}.
There is thus a composite quasi-isomorphism $C_*(K)\into C^{m-*}_\Gamma(M) \xr{f} C^{m-*}_\Gamma(M)$,  with image of the composite in $C^{m-*}_{\Gamma \pf X}(M)$.
So by the following diagram,
\begin{equation*}
	\begin{tikzcd}[column sep=tiny, row sep=tiny]
		C_*(K) \arrow[rr, "f"] \arrow[dr, out=-90, in=180]& & C^{m-*}_{\Gamma}(M) \\
		& C^{m-*}_{\Gamma \pf X}(M) \arrow[ur, out=0, in =-90] &
	\end{tikzcd}
\end{equation*}
we obtain a quasi-isomorphism from a finitely generated chain complex $C_*(K) \to C^{m-*}_{\Gamma \pf X}(M)$ to which our results can be applied with a single time bound.

\bigskip

The proof of \cref{T:main theorem} is given in the rest of this section.
As the intersection homomorphism is defined through evaluation on cubes in $X$, the proof proceeds over isolated cubes.
We thus introduce the following notation, with $E$ being a cube or the interior of a cube as our main case of interest.

\begin{definition}
	Let $M$ be a manifold without boundary and $N$ and $V$ be c-manifolds over $M$ which are transverse to each other; further suppose $N$ is embedded in $M$.
	We  denote the pull-back $V \times_M N$ by $V_N$, noting that, as $N$ is embedded, $V_N$ can be identified with $r_V^{-1}(N)$ by identifying $(x, r_V(x)) \in V_N$ with $x \in V$.
	In this case the reference map $r_{V_N}$ is just the restriction of $r_V$ to $r_V^{-1}(N)$.

	By \cref{pullback}, $V_N$ is a c-manifold over $N$.  We endow it with the pull-back co-orientation induced by the co-orientation of $V\to M$,  as given in  \cite[Sections 3.5.1 and 3.5.2]{medina2022foundations}. % the reference map $V_N\to N$ can be endowed with a  that does not depend on either an orientation of $N$ or a co-orientation of the embedding of $N$.
\end{definition}

\subsection{Transversality}

We begin with the first claim of \cref{T:main theorem}, of transversality after a sufficiently long flow time.

The main effort of this section will be to prove the following theorem, \cref{T:transversality}, which shows that flows can be used to obtain transversality cube by cube.
Once we have proven \cref{T:transversality}, we will then show how it can be used to obtain the global transversality result of \cref{T:main theorem}.



\begin{theorem}\label{T:transversality}
	Let $|X| \to M$ be a cubulation of a manifold without boundary.
	Suppose $W$ and $V$ are in $\cman_{\Gamma \pf X}^*(M)$.
	Then, for any cube $E$ in $X$ with its interior denoted by $\E$, there is a $T \in \R$ (depending on $E$) such that for $t > T$ both $\f_t(W)_{\E}$ and $\f_{-t}(W)_{\E}$ are transverse to $V_{\E}$ as c-manifolds mapping to $\E$.
\end{theorem}


The rough main idea of the proof starts with using our computations from \cref{S:neighborhoods} to show that after large times $\f_t(W_{\E})$ will be sufficiently parallel to any terminal face $F$.
Because transversality is an open condition, as argued for example in \cite[Section 1.6]{GuPo74}, the transversality of $V$ with $F$ will imply the transversality of $V_{\E}$ with $\f_t(W_{\E})$.
We will then do an induction over the dimensions of terminal faces until we have eventually covered all of $E$.

\medskip

\subsubsection{$F$-slope}
To provide a specific measure of ``parallelness,'' we define {\bf $F$-slope}:

\begin{definition}
	Let $F \subset \interval^n$ be a  face of dimension $d$. Let $\R^F$ denote the span of
	$\beta_F = \{\e_i\ |\ i \in F_{01}\}$ and $\R^{F^\perp}$ denote the span of $\beta_{F^\perp} = \{\e_i\ |\i \in F_0 \cup F_1\}$.
	For $v \in \R^n$, $v \neq 0$, we call $v =  v_F +   v_{F^\perp}$ with $v_F \in \R^F$ and $v_{F^\perp} \in \R^{F^\perp}$ the {\bf $F$-decomposition} of $v$, and we call $\frac{|| v_{F^\perp}||}{||v_{F}||} \in [0,\infty]$ the {\bf $F$-slope} of $v$.

	Define  $F$-slope of a $d$-dimensional linear subspace of $\R^n$ to be the maximum $F$-slope over its non-zero vectors.
	Define the {\bf $F$-slope} of any linear subspace of $\R^n$ of dimension greater than $d$ to be the minimum  $F$-slope of its $d$-dimensional subspaces.
\end{definition}

We note that $F$-slope values are invariant up to non-zero scalar multiplication, so to calculate slopes it suffices to consider unit spheres.
A linear subspace has finite $F$-slope if and only if its projection to $\R^F$ is surjective, or equivalently if and only if it is transverse to $\R^{F^\perp}$.

We now show that we can utilize simultaneously an $F$-slope with an $F^\perp$ slope to obtain a transversality result.

\begin{lemma}\label{L:complementaryslopes}
	Let $F$ be a $d$-dimensional face of $\interval^n$, $d>0$, and let $F^\perp$ denote any face of complementary dimension orthogonal to $F$.\footnote{Note that this use of $F^\perp$ is consistent with that in the definition of $F$-slope.}
	Suppose $V$ is a subspace of $\R^n$ with finite $F^\perp$-slope.
	Then there is an $\varepsilon \in [0,\infty)$ such that if $W$ is a subspace with $F$-slope less than $\varepsilon$ then $V$ and $W$ are transverse.
\end{lemma}
\begin{proof}
	We first observe that by definition of $F$-slope and $F^\perp$-slope, $\dim(V) \geq n-d$ and $\dim(W) \geq d$.
	Using that $(F^\perp)^\perp = F$, we have by assumption a $b \in [0,\infty)$ and an $n-d$ dimensional subspace of $V' \subset V$ such that $\frac{||v_{F}||}{||v_{F^\perp}||} <b$ for all nonzero $v \in V'$.
	Now choose $\varepsilon < 1/b$ and suppose $W$ has $F$-slope less than $\varepsilon$.
	Then there is a $d$-dimensional subspace $W' \subset W$ such that $\frac{|| w_{F^\perp}||}{||w_{F}||} < \varepsilon < 1/b$ for all nonzero $w \in W'$.
	But then $\frac{|| w_{F}||}{||w_{F^\perp}||} > b$ for all nonzero $w \in W'$, so no nontrivial element of $W'$ can be in $V'$.
	Thus $V' \cap W' = 0$, and it follows from the dimension of $V'$ and $W'$ that $V' \oplus W' = \R^n$.
	Hence $V + W = \R^n$.
\end{proof}

\subsubsection{c-manifolds over cubes}\label{reductiontocubes}
Our next arguments will require working with manifolds with corners mapping into cubes.
In general, such maps, and the corresponding definitions of transversality, can be quite complex as our target itself has corners.
However, we work in a specific limited context thanks to our goal of proving \cref{T:transversality}, and consequently we will not need the full sophistication of \cite{Joy12}.
In this subsection we establish the conventions and notations we will need to proceed.

First, let $E$ be an $n$-dimensional cube in the cubulation $X$ of a manifold without corners $M$, and let $V \in PC_{\Gamma \pf X}^*(M)$.
In this section we wish to consider the pullback $V_E = V \times_M E$.
As $E$ is embedded in $M$, we can identify $V_E$ with the restriction $r_V^{-1}(E) \to E$, which we will write as $r_{V,E} \colon V_E \to E$.
However, we do not want to use the pull-back stratification; rather let us write $V_E^k$ for $S^k(V) \times_M E$ and consider $V_E$ to be stratified by the $V_E^k$.
We write $r_{V,E}^k \colon V_E^k \to E$.

To see that this choice of stratification is a reasonable thing to do, let $z$ be a point in $\bd E$ and recall from \cref{L:charextension} that if we identify $E$ with $\interval^n \subset \R^n$, then we can extend the embedding $i$ of $E$ into $M$ to a local embedding into $M$ of a Euclidean neighborhood $H$ of $z$ in $\R^n$.
As $H$ is a Euclidean, the stratification of $V \times_M H$ would be precisely by the $S^k(V) \times_M H$, and so we (locally) simply restrict this stratification over $E$.
The point is to avoid having to treat corners of $V_E$ that arise solely because of the interaction of $V$ with the boundary of $E$.
Note that in the statement of \cref{T:transversality} we avoid this issue entirely, as the conclusions are stated over the interior $\E$, but we will need to consider behavior at the boundary of $E$ in some of the proofs below.

Next, by composing with the inverse of the embedding of $\interval^n$ into $M$ corresponding to the cubical face $E$, we will generally identify $E$ with $\interval^n$ and think of $r_{V,E}$ as a map $r_{V,E} \colon V_E \to \interval^n$ with restrictions $r_{V,E}^k \colon V_E^k \to \interval^n$.
We will use the notations $E$ and $\interval^n$ interchangeably and also consider $\interval^n$ to be a subspace of $\R^n$.

In the remainder of this section, when we refer to a ``c-manifold over $\interval^n$ which is transverse to the face $F$,'' we will always mean a map $r_{V,E} \colon V \to \interval^n$ that has been obtained from this procedure beginning with $V \in PC_{\Gamma \pf X}(M)$ and $E$ a face of the cubulation.
This allows us to avoid defining transversality directly for maps to manifolds with corners.


\begin{comment}
Included in the following definition and lemma is a justification for referring to such an object as transverse to the faces of $\interval^n$.



\begin{definition}
	Let $F$ be a face of $\interval^n \subset \R^n$ and $U$ a c-manifold over $\interval^n$.
	We say $r_U$ is
	{\bf complementary} to $F$ at some $x$ in its image if it is transverse to the parallel translate of $F$ to $x$.
\end{definition}



\begin{lemma}\label{L:complement}
	Suppose $E$ is an $n$-dimensional cube in a cubulation of the manifold without boundary $M$ and that $V \in PC^*_{\Gamma \pf}(M)$.
	Let $F$ be a face of $E$.
	Then there is an open neighborhood $B$ of $F$ in $E$ such that $r_{V,E}$ is complementary to $F$ at every $x \in (r_{V,E})^{-1}(B)$.
\end{lemma}


\begin{proof}[Proof of Lemma~\ref{L:complement}]
	If $\dim(V) + \dim(F) < \dim(M)$ then, by  transversality,  $r_V$ is disjoint from $F$.  So by \cref{L:proper nbhd} there is a neighborhood of $F$ in $M$, and hence a neighborhood of $F$ in $E$, that is disjoint from the image of $V$.

	Next suppose $\dim(V) + \dim(F) \geq \dim(M)$.
	Behavior of $V_E$ near the boundary of $E$, where we need to argue, could be delicate due to the corners introduced.
	But given $x \in V$ with $z = r_V(x) \in F$, we apply Lemma~\ref{L:charextension} to obtain a neighborhood $H$ of $z$ in
	$\R^n$ and an embedding $i_H \colon H \to M$ that agrees with $i_E$ on $H \cap E$.  Thus the pull-back $V_H = V \times_M H \to H$ is a codimension zero open submanifold of $V$ which agrees with $V \times_E E \to E$ over $E \cap H$.

	The benefit of working with $V_H$ is that since $H$ does not have boundary, $V_H$ is stratified by the $S^k(V) \times_M H$, which we denote $V_H^k$.
	As we did for $E$, we will identify $H$ with its image in $M$, and so also identify $z$ with $z'$.
	Let us also write $r_{V,H}$ for the pull-back map $V_H \to H$ and $r_{V,H}^k$ for the restriction of $r_{V,H}$ to $V_H^k$.

	We next claim that the pull-back $V \times_M H \to H$ is transverse to $F \cap H$ at $(x,z) \in V_H$.
	Let $S^k(V)$ be the stratum of $V$ containing $x$, and let us write $\bar{x} = (x,z)$.
	By \cite[Lemma 2.28 and Corollary 2.29]{medina2022foundations}, the tangent space $T_{\bar{x}}(V^k_H)$ is $T_xS^k(V) \times_{T_zM} T_zH$, and the derivative $Dr_{V,H}^k \colon T_{\bar{x}}(V^k_H) \to T_zH$ is just the projection to the second factor.
	Let $\vec s \in T_zH \subset T_z M$.
	As $V$ is transverse to the cubulation, there are vectors $\vec t \in T_xS^k(V)$ and $\vec u \in T_zF$ such that $\vec s = Dr^k_V \vec t + \vec u$.
	But then $Dr^k_V\vec t = \vec s - \vec u \in T_zH$ as $T_zF \subset T_zH$.
	So $(\vec t, \vec s - \vec u)$ represents an element of $T_{\bar{x}}(V^k_H)$, and its image under $Dr_{V,H}^k$ is $\vec s - \vec u = Dr^k_V\vec t$.
	This shows that the pull-back $r^k_{V,H} \colon V^k_H \to H$ is transverse to $F$ at $\bar{x}$, as claimed.


	Now %, let $\dim(V_H) = p$ so that $\dim(V_H^k) = p - k$, and
	 let $(\mathcal U, \phi)$ be a chart for $V_H$ so that $\mathcal U \subset \R^p_k$ and $\phi \colon \mathcal U \to V_H$ takes the origin to $\bar{x} = (x,z)$.
	Then $\phi$ takes $\mathcal U \cap \R^{p-k}$ to a neighborhood of $x$ in $V_H^k$. %= S^k(V) \times_M H = S^k(V \times_M H)$.
	Because $r^k_{V,H}$ is transverse to $F$ at $\bar{x}$, the restriction of $r_{V,H} \circ \phi$ to $\mathcal U \cap \R^{n-k}$ is transverse to $F$ as a map from a $p-k$ manifold.
	Because transversality is an open condition there is a neighborhood $\mathcal V$ of the origin in $\R^p_k$ (in fact in $\R^p$ by extending the smooth map $r_{V,H} \phi$) such that at any point in $y \in \mathcal V$ the image under under $D_y(r_{V,H} \phi)$ of the span of the the last $p-k$ coordinate vectors remains transverse to the vector space $\vec F$ parallel to $F$.
	In other words, there is a neighborhood of the origin in which $r_{V,H} \phi$ is complementary to $F$.
	As $\phi$ is a chart of $V_H$, it follows that $r_{V,H}$ is complementary to $F$ in a neighborhood of $\bar{x}$.
	In particular, there is then a neighborhood $\mathfrak U_{\bar{x}}$ of $\bar{x}$ in $V_E$ such that the pull-back $V_E \to E$ is complementary to $F$ at each point of $\mathfrak U_{\bar{x}}$.

	Taking the union of the $\mathfrak U_{\bar{x}}$ over all $\bar{x} \in V \times_M F$, or equivalently all $x$ in $r_V^{-1}(F)$, we obtain a neighborhood $A$ of $r_V^{-1}(F)$ in  $r_V^{-1}(E) = V_E$ such that the map to $E$ is complementary to $F$ at each point of $A$.
	Applying  \cref{L:proper nbhd}, there is thus a neighborhood $B$ of $F$ in $E$ such that $r_V^{-1}(B) \subset A$.
	So for any $\bar{x} \in V_E$ with $r_{V,E} (\bar{x}) \in B$, we know $\bar{x} \in A$ and so $r_{V,E}$ is complementary to $F$.
\end{proof}
\end{comment}


The following lemma justifies referring to such an object as transverse to the faces of $\interval^n$.

\begin{lemma}\label{L:complement}
	Suppose $E$ is an $n$-dimensional cube in a cubulation of the manifold without boundary $M$ and that $V \in PC^*_{\Gamma \pf X}(M)$ so that, in the sense defined just above, $r_{V,E} \colon V_E \to E$ is a c-manifold over $\interval^n$.
	Then $V_E$ is transverse to every face $F$ of $E$ in the sense that if $x \in V^k_E$ with $r_{V,E}(x) = z \in F$, then $Dr_{V,E}^k(T_xS^k(V_E)) + T_zF = T_zE$.
\end{lemma}


\begin{proof}
	If $\dim(V) + \dim(F) < \dim(M)$ then, by  transversality,  $r_V(V)$ is disjoint from $F$ in $M$, so the result holds vacuously.

	Next suppose $\dim(V) + \dim(F) \geq \dim(M)$.
	Behavior of $V_E$ near the boundary of $E$, where we need to argue, could be delicate due to the corners introduced.
	But given $x \in V$ with $z = r_V(x) \in F$, we apply Lemma~\ref{L:charextension} as in the discussion just above to obtain a neighborhood $H$ of $z$ in $\R^n$ (identifying $E$ with $\interval^n \subset \R^n$) and an embedding $i_H \colon H \to M$ that agrees with $i_E$ on $H \cap E$.
	We then form the pull-back $V_H = V \times_M H \to H$, which which agrees with $V_E = V \times_E E \to E$ over $E \cap H$.
	Again, the benefit of working with $V_H$ is that since $H$ does not have boundary, $V_H$ is stratified by the $S^k(V) \times_M H$, which we denote $V_H^k$.
	As we did for $E$ and $\interval^n$, we will identify $H$ with its image in $M$.
	Let us also write $r_{V,H}$ for the pull-back map $V_H \to H$ and $r_{V,H}^k$ for the restriction of $r_{V,H}$ to $V_H^k$.

	We next claim that the pull-back $V \times_M H \to H$ is transverse to $F \cap H$ at $(x,z) \in V_H$, from which the lemma will follow.
	Let $S^k(V)$ be the stratum of $V$ containing $x$, and let us write $\bar{x} = (x,z)$.
	By \cite[Lemma 2.28 and Corollary 2.29]{medina2022foundations}, the tangent space $T_{\bar{x}}(V^k_H)$ is $T_xS^k(V) \times_{T_zM} T_zH$, and the derivative $Dr_{V,H}^k \colon T_{\bar{x}}(V^k_H) \to T_zH$ is just the projection to the second factor.
	Let $\vec s \in T_zH \subset T_z M$.
	As $V$ is transverse to the cubulation, there are vectors $\vec t \in T_xS^k(V)$ and $\vec u \in T_zF$ such that $\vec s = Dr^k_V \vec t + \vec u$.
	But then $Dr^k_V\vec t = \vec s - \vec u \in T_zH$ as $T_zF \subset T_zH$.
	So $(\vec t, \vec s - \vec u)$ represents an element of $T_{\bar{x}}(V^k_H)$, and its image under $Dr_{V,H}^k$ is $\vec s - \vec u = Dr^k_V\vec t$.
	So $\vec s = Dr^k_V\vec t + \vec u \in Dr_{V,H}^k(T_{\bar{x}}(V^k_H)) + T_zF$.
	As $\vec s$ was an arbitrary vector in $T_zH$, this shows that the pull-back $r^k_{V,H} \colon V^k_H \to H$ is transverse to $F$ at $\bar{x}$, as claimed.
\end{proof}







\subsubsection{Slope bounds via flowing}
Now that we have established the machinery for working within individual cubes, the goal of our next proposition, whose proof will require some preliminary work, is to show that flowing within a cube achieves ``parallelness'' to terminal faces.

In the following statement, for $x \in W$, we let $s(x)$ denote the depth of the stratum containing $x$.
In other words, $s(x)$ is the number such that $x \in S^{s(x)}W$.

\begin{proposition}\label{Wapproxparallel}
	Let $F$ be a terminal face of $\interval^n$, and let $W$ be a c-manifold over $\interval^n$ that is transverse to $F^-$ (in the sense of \cref{reductiontocubes}).  Then for any $\varepsilon > 0$ and $0 < u < 1$ there is a lower neighborhood $N_\delta L_u(F)$ and a time $T$ such that for all $t > T$ and any $x \in W$ with $\f_t r_W(x) \in N_\delta L_u(F)$ the $F$-slope of  $D_x(\f_tr^{s(x)}_W)(T_xS^{s(x)}(W))$ is less than $\varepsilon$.
\end{proposition}

Thus the logistic flow stretches a manifold which transversely intersects one face to contain
an almost parallel cover of the lower portion of the next face in the cubical poset.
One can see this almost parallel property informally by looking at the logistic flow as in \cref{F:logistic}.

We argue in the proof of this proposition and elsewhere below that behavior over faces of a cubulation
extends to neighborhoods of those faces.
To exclude far away points in our  domain manifolds from such considerations, we use the following elementary fact from general topology.

\begin{lemma}\label{L:proper nbhd}
	Suppose $f \colon X \to Y$ is a proper map and that $K \subset Y$ is compact.
	Let $A$ be an open neighborhood of $f^{-1}(K)$ in $X$.
	Then there is a neighborhood $B$ of $K$ in $Y$ such that $f^{-1}(B) \subset A$.
\end{lemma}

	In particular, if $K$ is disjoint from the image of $f$ then there is a neighborhood of $K$ which is disjoint as well.

\begin{proof}[Proof of \cref{L:proper nbhd}]
	As proper maps are closed \cite[Proposition I.10.1.1]{Bou98}, $f(X \setminus A)$ is a closed set of $Y$ that is disjoint from $K$.
	Take $B = Y \setminus f(X \setminus A)$.
\end{proof}

The next lemma will be a principal fact for the proof of \cref{Wapproxparallel}, but we will also use it independently later.


\begin{lemma}\label{L:Fslopebounded}
	Let $F$ be a $d$-dimensional face of $\interval^n$, and let $F^\perp$ be any face of complementary dimension orthogonal to $F$.
	Let $W$ be a c-manifold over $\interval^n$ which is transverse to $F^\perp$ in the sense of \cref{reductiontocubes}.
	Then there is a neighborhood $\mathcal{V}$ of $F^\perp$ and an upper bound $b < \infty$ such that
	the $F$-slope of $D_xr^{s(x)}_W(T_xS^{s(x)}(W))$ is defined and less than $b$ for all $x$ in $r_W^{-1}(\mathcal{V})$.
\end{lemma}

\begin{proof}
	Transversality of $W$ with $F^\perp$ implies that at any $y \in S^W$ with $r_W(y) \in F^\perp$ the $F$-slope of $D_yr^k_W(T_yS^k(W))$ is finite, where $y \in S^k(W)$.
	If we consider $y$ to be a point in the boundary of the closure of a higher-dimensional stratum $S^j(W)$ then $T_yS^k(W) \subset T_yS^j(W)$, so the $F$-slope of $D_yr^j_W(T_yS^j(W))$ must be less than or equal to that of $D_yr^k_W(T_yS^k(W))$ as there are more $\dim(F)$-dimensional subspaces of the former over which to find the minimum $F$-slope.
	On the other hand, within a fixed stratum and referring to fixed charts for the domain and image, the images of any fixed collection of $\dim(F)$ input vectors vary continuously.
	So, as linear independence is an open condition, $y$ will have a neighborhood in which the rank of the Jacobian cannot decrease and the $F$-slope of any subspace spanned by the image of any fixed set of $\dim(F)$ vectors in the chart will vary continuously.
	If the rank of the derivative increases as we move around the stratum within this neighborhood, then as argued above in the case comparing two strata, the $F$-slope can only decrease compared to the continuously varying value for the fixed inputs as a result.
	So, altogether, the upshot is that if we let $s(x)$ be the number such that $x \in S^{s(x)}W$, then the function that takes $x$ to the $F$-slope of $D_xr^{s(x)}_W(T_xS^{s(x)}(W))$ is upper semi-continuous.

	So about any such $y \in W$ with $r_W(y) \in F^\perp$, there is a neighborhood $U_y$ in $W$ for which the function taking $x$ to the $F$-slope of $D_xr^{s(x)}_W(T_xS^{s(x)}(W))$ is bounded by, say, twice the $F$-slope at $y$.
	By covering the preimage $r_W^{-1}(F^\perp)$ by such neighborhoods and taking a finite subcover, we get a neighborhood ${\mathcal U}$ of this preimage on which $F$-slope of $D_xr^{s(x)}_W(T_xS^{s(x)}(W))$ is always defined and universal bounded by some $b \in [0,\infty)$.
	We apply \cref{L:proper nbhd} with $A = {\mathcal U}$ to obtain a neighborhood $\mathcal{V}$ of $F^\perp$ in $\interval^n$ whose preimage under $r_W$ is in ${\mathcal U}$ and thus respects this bound.
\end{proof}


\begin{proof}[Proof of \cref{Wapproxparallel}]
By \cref{L:Fslopebounded}, there is a neighborhood $\mathcal{V}$ of $F^-$ in $\interval^n$ and an upper bound $b < \infty$ such that the $F$-slope of the $D_xr^{s(x)}_W(T_xS^{s(x)}(W))$ is defined and less than $b$ for all $x$ in $r_W^{-1}(\mathcal{V})$.
By  \cref{L:jacobian ratios}, for every $0 < u < 1$ there is a $\delta$ and a time $T$ so that the slopes with respect to $F$ are scaled by arbitrarily small numbers after flow of time greater than $T$ into $N_\delta L_u(F)$.
In particular, there are $\delta$ and  $T$ so that they are scaled by $\varepsilon/ b$.
By choosing a larger $T$ if necessary, we may apply \cref{L:flow to initial and terminal faces} to ensure that $\f_t(W) \cap N_\delta L_u(F)$ contains only points from the flowed image of ${\mathcal{V}}$.
We thus obtain the stated result.
\end{proof}


\begin{comment}
for any $v \in T_y W$ for some $y$ with $r_W(y) \in F$, the
$F$-decomposition of $D r_W (v)$ will have $(D r_W(v))_F \neq 0$.
Because $D r_W$ and projection onto $\R^F$ are continuous,
there is a $\zeta' > 0$ small enough so that for any $y$ such that
$ r_W(y)$ is in $N_{\zeta'}(F^-)$ and thus in $\overline{N}_{\zeta}(F^-)$ for $\zeta < \zeta'$,
the non-vanishing of $(D r_W(v))_F $  will remain true.

Since $r_W$ is proper, the preimage of  $ \overline N_\zeta(F^-)$ is compact, as is the unit sphere bundle for its tangent bundle for any metric.
So the maximum over unit vectors $v$ in $T_y W$ for $y$ in this preimage
of the set slopes with respect to $F$
 exists; call it $\mu$.
\end{comment}
\begin{comment}
%	By \cref{L:flow to initial and terminal faces} we may first choose $T'$ sufficiently large so that all points in $\f_t(W) \cap V_E \cap \overline N_\delta L_u(F)$ are of the form $y = \f_t(x)$ for some $x \in W_E \cap \overline N_\zeta(F^-)$.
\end{comment}

















\begin{comment}

\color{blue}
\bigskip
A new approach to making this precise!


\begin{definition}
Let $h$ and $k$ be linear maps from normed vector spaces $L_1$ and $L_2$ respectively to $\R^n$.  Denote unit spheres by $U(L_i)$.  Define the {\bf transversality measure},
denoted $\llangle h, k \rrangle$, as the maximum of $|\rm{Det} (v_1, \dots, v_n) |$, where
each $v_i$ is in the union of $h(U(L_1))$ and $k(U(L_2))$.

Let $f, g: V, W \to \R^n$ be smooth maps from c-manifolds with Riemannian metrics to $\R^n$ whose
pull-back is compact and path-connected.
Define the transversality measure $\llangle f, g \rrangle$ to
be the minimum over $z = f(x) = g(y)$ of $\llangle D_x f, D_y g \rrangle$.
\end{definition}


While the transversality measure is only defined for maps to $\R^n$ and  is for example highly sensitive to metric,
 it is useful topologically in that
it is continuous and it is non-zero only if $f$ and $g$ are transverse.  By continuity we mean the following.

\begin{proposition}
Let $V, W$ be c-manifolds and
consider the subspace $CP$ of pairs of smooth maps from $V$ and $W$ to $\R^n$ with  compact and path-connected
pull-back, with the $C^\infty$ topology.  Then $f, g \mapsto \llangle f, g \rrangle$ is a continuous map from $CP$ to $\R$.
\end{proposition}

SHOULD PROVE THIS!



Plan of attack:  Still work over $E \cong \interval^n$, so maps are to Euclidean space.  Start with $V_E$ transversal
to $F$ so $\llangle r_V, \iota_F\rrangle = m$ for some $m>0$.  Let $\tau_x \iota_F$ denote translation of $\iota_F$
by $x$.  Then continuity of transversality measure implies that there is some $\varepsilon$ so that $\llangle r_{V_E}, \iota_F\rrangle > m/2$ for any $\tau_x \iota_F$ whose image is in the $L^\infty$ neighborhood
$N_\varepsilon F$.  Thus also getting some lower bound $b$ for$ \llangle r_{V_E}, r_{\tau_x \iota_F \circ \phi} \rrangle$ for
any linear map.  Then use aspect ratio being arbitrarily large/small and simple facts about determinants to get
$| \llangle r_{V_E}, r_{\f_t(W_E)} \rrangle  - \llangle r_{V_E}, r_{\tau_x \iota_F \circ \phi} \rrangle | < b/2$
where $\phi$ is a projection map needed to compare $r_{\f_t(W_E)}$ and $r_{\tau_x \iota_F}$.
\color{black}

\bigskip

\end{comment}

\begin{comment}3-11-24
We will first show the intersection
can be arranged to occur in a neighborhood on which $V_{\E}$ intersects any parallel translate
of the relevant terminal face transversally.
For the moment,  consider $V_E$ to be the restriction $r_V^{-1}(E) \to E$, which
as $E$ is embedded in $M$  is topologically the pull-back.
But  we do not use the pull-back stratification but rather the restriction of the stratification of $V$.
In particular, let us write $V_E^k$ for $S^k(V) \times_M E$.
By composing with the inverse of the embedding of $\interval^n$ into $M$ corresponding to $E$,
we may identify $E$ with $\interval^n$ to obtain a map $r_{V,E} \colon V_E \to \interval^n$ with restrictions
$r_{V,E}^k \colon V_E^k \to \interval^n$.
Abusing notation further, when considering maps whose codomain is $E$, we will freely identify $E$ with $\interval^n$, considered as a subspace of $\R^n$, as we will sometimes use the notations $E$ and $\interval^n$ interchangeably.



\begin{definition}
Let $F$ be a face of $\interval^n \subset \R^n$ and $U$ a c-manifold over $\interval^n$.  We say $r_U$ is
{\bf complementary} to $F$ at some $x \in U$ if $r_U$ at $x$ is transverse to the parallel translate of $F$ to $r_U(x)$, i.e.\ if $D_xr_U(T_xU) + T_{r_U(x)}(\tau_{r_U(x)} F) = T_{r_U(x)}\R^n$, where $\tau_{r_U(x)} F$ is the parallel translate of $F$ to $r_U(x)$.
\end{definition}
\end{comment}

\begin{comment}
\begin{lemma}\label{L:submersion}
	Suppose $V$ and $M$ are manifolds without boundary, that $N$ is a submanifold without boundary of $M$, and that $f \colon V \to M$ is a submersion at a point $x \in V$ with $r_V(x) \in N$.
	Then the pullback map $V_N = V \times_M N \to N$ is a submersion at $(x, r_V(x))$, identifying $N$ with its image in $M$.
\end{lemma}
\begin{proof}
	Let use write $r_V(x) = z \in N \subset M$.
	By \cite[Lemma 2.28 and Corollary 2.29]{medina2022foundations}, the tangent space of $V_N$ at $(x, z)$ is $T_{(x,z)}V_N = T_xV \times_{T_zM} T_zN$, and the derivative map $T_{(x,z)}V_N \to T_zN$ is just the projection.
	As the restriction of $r_V$ to $V$ is a submersion at $z$, the image of $Dr_V \colon T_xV \to T_zM$ is the whole space, and so for any $\vec b \in T_z N$, there is a vector $\vec a \in T_xV$ such that $(\vec a, \vec b) \in T_{(x,z)}V_N$.
	The derivative then maps $(\vec a, \vec b)$ to $\vec b \in T_z N$. But $\vec b$ was chosen arbitrarily in $T_zN$, so the pullback is a submersion at $(x,z)$.
\end{proof}


Now suppose $M$ is a cubulated manifold without boundary.
The next lemma will establish that if $V \in PC^*_{\Gamma \pf}(M)$, $E$ is a cube in the cubulation, and $F$ is a face of $E$, then there is a neighborhood $B$ of $F$ in $E$ so that, roughly speaking, the pull-back  $V_E$ remains transverse to $F$ wherever it maps into $B$.  We use standard parallel translation by vector addition in Euclidean space to make this
precise locally.

\end{comment}


\begin{comment}
and let $\vec F$ be the vector space spanned by $\{\e_i \mid i \in F_{01}\}$; in other words, $\vec F$ is the sub-vector space of $\R^n$ parallel to $F$.
Suppose $x \in V_{E}^k$.
We will say that $r_{V,E}$ is \textbf{complementary} to $F$ at $x$ if $D_xr_{V,E}^k(T_xV_E^k) + \vec F = \R^n$, identifying the tangent space at each point of $\R^n$ with $\R^n$.
In other words, $r_{V,E}$ is \textbf{complementary} to $F$ at $x$ if at $x$ we have $r^k_{V,E}$ transverse to a parallel translate of $F$.
\end{comment}

\begin{comment}
While we will need this map to all of $\interval^n$, we will also consider the interior $\E$ of $E$.
Over $\E$, we can identify $r_V^{-1}(\E)$ with the pullback $V \times_M \E \to \E$, and again compose with the diffeomorphism to the standard cube.
We also write this further restricted map $r_V^*$.
\end{comment}

%We assume the above notation in the following lemma.


\subsubsection{Achieving cube-wise transversality}
We can now prove our main local transversality theorem, \cref{T:transversality}, which we will then apply to obtain our global transversality result.



\begin{proof}[Proof of \cref{T:transversality}]
	Let $\dim(M) = m$, $\dim(E) = n$, $\dim(W) = w$, and $\dim(V) = v$.
	As useful, we will identify $E$ with $\interval^n$.

	Recall from \cref{cubicalcomplexes} that we define $\init_k(\interval^n)$ to be the union of initial faces of $\interval^n$ of dimension $k$ and $\term_k(\interval^n)$ to be the union of terminal faces of $\interval^n$ of dimension $k$.
	We will establish the following statement inducting over $i = 0, \dots, n$.
	\begin{itemize}
		\item[($\ast$)] There exists a neighborhood $\mathcal N^i$ of $\term_{i}(\interval^n)$ and a $T^i \in \R$ such that $\f_t(W_{\E})$ is transverse to $V_{\E}$ within $\mathcal N^i$ for all $t > T^i$.
	\end{itemize}
	The case $ \term_{n}(\interval^n) = \interval^n$ establishes the result.

	For the base case of the induction we consider $\term_0(\interval^n) = \{\underline{1}\}$.
	If $\dim(V) < m$ then, by the assumption that $V$ is transverse to the cubulation, $r_V(V)$ is disjoint from $\underline{1}$ in $M$.
	By \cref{L:proper nbhd} there is a neighborhood of $\underline{1}$ in $M$, and hence in $E$, that is disjoint from the image of $V$, which establishes the base case under this assumption.
	Next suppose $\dim(V) \geq m$, and suppose $x \in V$ with $r_V(x) = \underline{1}$.
	Considering \cref{L:Fslopebounded} with the $F$ there taken to be $E$ and $F^\perp = \underline{1}$, there is a neighborhood $\mathcal{V}$ of $\underline{1}$ in $E$ and an upper bound $b < \infty$ such that the $F$-slope of $D_xr^{s(x)}_{V,E}(T_xS^{s(x)}(V_E))$ is defined and less than $b$ for all $x$ in $r_{V,E}^{-1}(\mathcal{V})$.
	In this case, the $F$-slope must in fact be $0$ because $\underline{1}$ is $0$-dimensional, but \cref{L:Fslopebounded} also states that the $F$-slope is well defined, which here means that the image of the derivative had dimension $\geq n$.
	But this implies that any other manifold with corners mapping into $\mathcal V$ is transverse to $V_{\E}$ there.
	So we take $\mathcal N^0 = \mathcal V$.

	We turn to  the induction step  from $i-1$ to $i$, letting $F$ be an $i$-dimensional terminal face.
	By applying \cref{L:Fslopebounded} to $V_E$ (reversing the roles there of $F$ and $F^\perp$),
	there is a neighborhood $\mathcal{V}$ of $F$ and an upper bound $b < \infty$ such that
	the $F^-$-slope of $D_xr^{s(x)}_{V,E}(T_xS^{s(x)}(V_E))$ is less than $b$ for all $x$ in $r_{V,E}^{-1}(\mathcal{V})$.


	Using our inductive hypothesis, choose $\delta_1$ and $u \in (0, 1)$  so that $\overline N_{\delta_1}(F) \subset \mathcal{V}$ and $\overline N_{\delta_1}(F) \setminus \overline N_{\delta_1} L_u(F)$ is contained in $\mathcal N^{i-1}$.
	By Proposition~\ref{Wapproxparallel} for any $\varepsilon$  there is a $\delta_2$ and $T$
	such that each $\f_t(S^k(W_E))$ attains an $F$-slope less than  $\varepsilon$  for all $t>T$ over $N_{\delta_2} L_u(F)$.
	By \cref{L:complementaryslopes}, we may choose our $\varepsilon$ depending on $b$ so that $D_x(r^{s(x)}_{V,E})(T_xS^{s(x)}(V_E))$ and $D_y(\f_tr^{s(y)}_{W,E})(T_yS^{s(y)}(W_E))$ are transverse wherever $r_{V,E}(x) = \f_tr_{W,E}(y)$ within $\overline N_{\delta_2}(F)$.
	Choose $\delta$ so that $0 < \delta < \min\{\delta_1,\delta_2\}$.
	We let $\mathcal N^i$ be union of the resulting $N_{\delta} L_u(F)$ over all $F$ in $\term_i(\interval^n)$.
	This completes the induction step and hence the proof for flowing forward in time.

	The argument for flowing backwards in time is entirely analogous.
\end{proof}


\begin{comment}
We claim that if $r_{V,E}$ is complementary to $F$ and $\f_t(W)_{\E}$ is sufficiently parallel to $F$ then $r_{V,E}$
will be transverse to $\f_t(W)_{\E}$.  Let $y \in \overline N_{\delta_V}(F)$ be in the image of both
$r_{V,E}$ and $\f_t(W)_{\E}$. First, let $r_{V,E} (x) = y$ and let $\alpha_x$ be the maximum of absolute values of
all determinants of  $u_1, \ldots, u_k$ which are unit vectors in the image of $D_x r_{V,E}$ followed by $b_1, \ldots, b_{n-k}$
which are unit vectors in $\R^F$, as $k$ can vary.  Because
$r_{V,E}$ is complementary to $F$, this must be non-zero (and finite as we restrict to unit vectors).
 Because the preimage of $y$ in $V$ is compact,
there is a non-zero minimum $\alpha_x$ over the preimage, which we call $\alpha_y$.  Similarly, because the intersection
of the images of $r_{V,E}$ and $\f_t(W)_{\E}$ is compact, there is a non-zero minimum of all $\alpha_y$ which we call $\alpha$.
We choose $\varepsilon$ to be sufficiently small compared to $\alpha$ to apply  Proposition~\ref{Wapproxparallel}  to
guarantee that the determinants
of unit vectors from $D r_{V,E}$ and $D \f_t (r_W)_{\E}$ are sufficiently close to those from  $D r_{V,E}$ and $\R^F$,
which are bounded below by $\alpha$, to be non-zero.  This establishes transversality in a neighborhood of $F$ for sufficiently large $t$,
letting $\delta$ be the smaller of $\delta_V$ and $\delta_W$.  	The induction step is completed by taking $\mathcal N^i$ to be the union over all terminal faces of $N_\delta(F)$ and $T^i$ the maximum value of their associated $t$.
\end{comment}
\begin{comment}

	AROUND HERE IS WHERE THINGS STILL NEED TO BE FIXED UP.

	Similarly, consider a $\zeta > 0$ small enough so that the closed $L^\infty$ neighborhood $\overline N_\zeta(F^-)$ of $F^-$ is such that either $W_E \cap \overline N_\zeta(F^-) = \emptyset$ or for any $x \in W_E \cap \overline N_\zeta(F^-)$ the affine space $T_xW_E$ is transverse to the span of $\beta_{F^-} = \{\e_i\ |\ i \in F^-_{01}\}$ at $x$.
	In the latter case, for every such $x$, the transversality implies that $T_xW_E$ projects surjectively onto $F$; in other words, the projection of $W_E \cap \overline N_\zeta(F^-)$ to $F$ is a submersion onto its image.
	Therefore, we may choose continuously with $x$ a subset of $T_xW_E$ of the form $\beta_x = \{\e_j + v_j\ |\ j \in F_{01}\}$ such that $v_j$ is in the span of $\beta_{F^-}$.
	As $W_E \cap \overline N_\zeta(F^-)$ is compact, the $v_j$ have bounded norm.

	By possibly making $\delta$ smaller we can choose $u \in (0, 1)$ by inductive hypothesis such that $\overline N_\delta(F) \setminus \overline N_\delta L_u(F)$ is contained in $\mathcal N^{i-1}$.

	By \cref{L:flow to initial and terminal faces} we may choose $t > T^{i-1}$ sufficiently large so that all points in $\f_t(W_E) \cap V_E \cap \overline N_\delta L_u(F)$ are of the form $y = \f_t(x)$ for some $x \in W_E \cap \overline N_\zeta(F^-)$.

	We use \cref{L:jacobian ratios} to deduce that the push forward of the span of $\beta_x$ along $D\,\f_t$ is as close as desired to the span of $\beta_F$ at $y$ and is therefore transverse to $T_y V_E$.
	The induction step is completed by taking $\mathcal N^i$ to be the union over all terminal faces of $N_\delta(F)$ and $T^i$ the maximum value of their associated $t$.

	\end{comment}


\subsubsection{Global transversality}
The preceding theorem shows that within any face $E$ of the cubulation we can make $\f_t(W)_{\E}$ transverse to $V_{\E}$ for large enough $t$.
The following lemma allows us to use that information to draw conclusions about transversality in $M$ itself.


\begin{lemma}\label{L:local to global}
	Let $M$ be a manifold without boundary.
	Let $V, W \in PC^*_\Gamma(M)$, and let $S \subset M$ be an embedded manifold without boundary.
	Suppose that $V$ and $W$ are transverse to $S$ and that the pull-backs $V_S = V \times_M S$ and $W_S = W \times_M S$ are transverse as manifolds with corners mapping to $S$.
	Then $V$ and $W$ are transverse in $M$ at points of $S$.
\end{lemma}
\begin{proof}
	Without loss of generality, we may suppose $V$ and $W$ are without boundary, as otherwise we can make the following argument for each pair of strata of $V$ and $W$.
	We let $r_V^* \colon V_S \to S$ and $r_W^* \colon W_S \to S$ denote the pull-back maps; these are simply the restrictions of the projections $V \times S \to S$ and $W \times S \to S$ to $V_S$ and $W_S$, respectively.

	Suppose $x \in V$ and $y \in W$ with $r_V(x) = r_W(y) = z \in S$.
	Then $(x,z) \in V \times S$ is a point of $V_S$, and $T_{(x,z)}V_S = T_xV \times_{T_zM} T_zS$ by \cite[Lemma 2.28]{medina2022foundations}.
	If $(\vec a,\vec b) \in T_{(x,z)}V_S$, the derivative $Dr_V^*$ takes $(\vec a,\vec b)$ to $\vec b \in T_z S \subset T_zM$.
	By the commutativity of the standard pull-back diagram, this equals $Dr_V(\vec a)$.
	Similar considerations hold for $W$.
	So the statement that $V_S$ and $W_S$ are transverse in $S$ means that for any $\vec e \in T_z S$, there are $(\vec a,\vec b) \in T_{(x,z)}V_S$ and $(\vec c,\vec d) \in T_{(y,z)}W_S$ such that $Dr_V(\vec a) + Dr_W(\vec c) = \vec e$.

	Now, let $\vec f \in T_z M$.
	As $V$ is transverse to $S$, there are vectors $\vec g \in T_x V$ and  $\vec e \in T_z S$ such that $\vec f = Dr_V(\vec g) + \vec e$.
	But now choosing $\vec a,\vec b,\vec c,\vec d$ as above, we have $\vec f = Dr_V(\vec g) + Dr_V(\vec a) + Dr_W(\vec c) = Dr_V(\vec g + \vec a) +Dr_W(\vec c)$.
	As $\vec f$ was arbitrary in $T_zM$ and we have $\vec g + \vec a \in T_x V$ and $\vec c \in T_y W$, we see that $V$ and $W$ are transverse at $z$ in $M$.
\end{proof}

\begin{corollary}
	Suppose $M$ is a closed cubulated manifold.
	If $W$ and $V$ are in $\cman_{\Gamma \pf}^*(M)$ then there is a $T$ such that for $|t|>T$ both $\f_t(W)$ and $\f_{-t}(W)$ are transverse to $V$ over $M$.
\end{corollary}
\begin{proof}
	As $M$ is closed, any cubulation of $M$ is by a finite number of cubes.
	By \cref{T:transversality}, for any cube $E$ there is a time $T_E$ such that $\f_t(W)_{\E}$ and $\f_{-t}(W)_{\E}$ are transverse to $V_{\E}$ in $E$ for $t > T_E$.
	By \cref{L:local to global}, this implies that $\f_t(W)$ and $\f_{-t}(W)$ are transverse to $V$ over $M$ at all points of $\E$ for $t > T_E$.
	Now let $T$ be the maximum of the $T_E$ over all cubes $E$ of the cubulation.
\end{proof}

We will use the following variation for \cref{T:main theorem}.

\begin{corollary}\label{C:transversality}
	Let $M$ be a cubulated closed manifold.
	If $W$ and $V$ are in $\cman_{\Gamma \pf}^*(M)$ then for $t$ sufficiently large $\f_t(W)$ and $\f_{-t}(V)$, as well $\f_{-t}(W)$ and $\f_t(V)$, are transverse over $M$.
\end{corollary}

\begin{proof}
	By \cref{T:transversality} there is a $t$ large enough so that $\f_{2t}(W)$ and $V$ are transverse for all larger $t$.
	Now apply $\f_{-t}$ to both terms and that transversality is preserved by composition with a diffeomorphism.
	Similarly, we can apply $\f_t$ to $\f_{-2t}(W)$ and $V$ for large enough $t$.
	Now choose $t$ large enough to do both.
\end{proof}




\subsection{Locality}\label{S: locality}

On a cubulated manifold the logistic vector field is compatibly defined across cubes by \cref{L:f is natural}.
In this subsection we show that we can analyze the fiber product over $M$ of cochains $\f_t(W)$ and $V$ locally -- that is, cube-by-cube.

\begin{lemma}\label{L:little trans lemma}
	Let $V$ and $W$ be c-manifolds over $M$ and $S$ a submanifold without boundary of $M$.
	Suppose $V$, $W$, and $S$ are pairwise transverse.
	If the pull-backs $V_S \to S$ and $W_S \to S$ are transverse over $S$ then the fiber product $W \times_M V$ is transverse to $S$ over $M$.
	Moreover, $W_S \times_S V_S \cong (W \times_M V) \times_M S$.
\end{lemma}

We will later apply this when $S$ is the interior of a cube in a cubical structure.

\begin{proof}
	The last statement of the lemma follows from identifying both $W_S \times_S V_S$ and $ (W \times_M V) \times_M S$ with
	the subspace of triples of $(x,y,z) \in W \times V \times S$ such that $r_W(x) = r_V(y) = r_S(z)$.

	This observation at the level of tangent spaces	also gives rise to the first statement, recalling that the tangent bundle of the fiber product is the fiber product of the tangent bundles.
	Indeed, transversality of two maps at a point where they coincide is defined locally by surjectivity of the map $(\vec a,\vec b)\to D_xr_W(\vec a)-D_yr_V(\vec b)$ from the direct sum of tangent spaces of the domain points to that of the ambient manifold.
	By exactness, this surjectivity is equivalent to the kernel having the appropriate dimension, but the kernel is precisely the tangent space of the	fiber product.
	Thus, it follows from a short computation that two maps are transverse if and only if the the fiber-product of tangent spaces over any point has codimension equal to the sum of the codimensions of the tangent spaces.
	As in the ``global" case, the fiber product of $T_{(x,z)} V_S$ and $T_{(y,z)} W_S$ over $T_zS$ coincides with that of $T_{(x,y)} (W \times_M V)$ and $T_z S$ over $T_z M$, as both are identified with the same subspace of $T_x W \times T_y V \times T_z S$.
	But the first pull-back is transverse by assumption, so this subspace has codimension equal to the sum of the codimensions of $S$, $V$, and $W$ in $M$.
	This codimension is also what is required for the second pull-back to be transverse, yielding the result.
\end{proof}

\begin{proposition}\label{P:locality}
	Let $M$ be a cubulated closed manifold.
	Suppose $W$ and $V$ are in $\cman_{\Gamma \pf}^*(M)$.
	For $t$ sufficiently large, the pull-back $\f_t(W) \times_M V$ is transverse to the cubulation, and
	\begin{equation*}
		\f_t(W) \times_M V = \bigcup_{E \in X} {\f_t\left(W_{\E}\right)} \times_{\E} V_{\E}
	\end{equation*}
	as spaces, with $\E$ the interior of the cube $E$ and with each ${\f_t\left(W_{\E}\right)} \times_{\E} V_{\E}$ a manifold with corners.
\end{proposition}

\begin{proof}
	By \cref{L:flow preserves transversality}, the c-manifold $\f_t(W)$ remains transverse to the cubulation for every $t$.
	By \cref{T:transversality}, over each $E$ in the cubulation, $\f_t(W)_{\E}$ is transverse to $V_{\E}$ for $t$ sufficiently large.
	As $M$ is compact, the cubulation if finite, so for sufficiently large $t$ this transversality holds for all $\E$, and we can then apply \cref{L:little trans lemma} to obtain transversality of $\f_t(W) \times_M V$ with the entire cubulation.

	Tautologically, $ \f_t(W) \times_M V = \bigcup_{E \in X} {\f_t(W)}_{\E} \times_{\E} V_{\E}$.
	But again using that the logistic flow respects the cubulation, ${\f_t(W)}_{\E} = {\f_t(W_{\E})}$, which gives the decomposition.\qedhere
	\begin{comment}	That ${\f_t\left(W_{\E}\right)} \times_{\E} V_{\E}$ is itself a manifold with corners follows from the identification by \cref{L:little trans lemma} of $ {\f_t(W_{\E})} \times_{\E} V_{\E}$ with $(\f_t(W) \times_M V)\times_M \E$, the latter being a manifold with corners by our transversality result.
	\end{comment}
\end{proof}

For the following lemma, recall \cref{D:complementary,D:intersection number}.

\begin{lemma}\label{L:intersection signs}
	Let $W$ and $V$ be co-oriented c-manifolds over a closed manifold $M$ that are transverse to a cubulation $|X| \to M$, and let $E$ be a cube whose dimension
	is the sum of the codimensions of $W$ and $V$ in $M$.
	Then, for sufficiently large $t$, $\f_t(W_E)$ and $V_E$ are complementary in $E$ and the value of $\cI(\f_t(W) \times_M V)$ on $E$
	is equal to $I_E(\f_t(W_E), V_E)$.
\end{lemma}
\begin{remark}
	Technically, by definition, computing $I_E(\f_t(W_E), V_E)$ requires taking a fiber product in $E$, which we would not typically allow as $E$ is a manifold with corners.
	However, once we have proven that $\f_t(W_E)$ and $V_E$ are complementary, their only intersection must be in the interior of $E$.
	So we could just as well write $I_{\E}\left(\f_t\left(W_{\E}\right), V_{\E}\right)$ for this signed intersection number, but we instead choose the simpler notation here, and in some places below, and hope no confusion will arise.
\end{remark}
\begin{proof}[Proof of \cref{L:intersection signs}]
	We assume that $t$ is as large as needed for \cref{P:locality}.

	Let $v = \dim(V)$, $w = \dim(W)$, $m = \dim(M)$, and $e = \dim(E)$; for a face $F$ of $E$, we let $f = \dim(F)$.
	By assumption, $e = 2m - v - w$.
	By counting dimensions, $\dim(V_E) = v + e - m = m - w$, and, similarly, $\dim(\f_t(W_E)) = \dim(W_E) = m - v$.
	So $\dim(V_E) + \dim(\f_t(W_E)) = \dim(E)$ as desired.
	Furthermore, on the interior of any proper face $F$ of $E$, we have $\dim(V_F) = v + f - m$, and $\dim(\f_t(W_F)) = w + f -m$.
	So $\dim(V_F) + \dim(\f_t(W_F)) = v + w +2f - 2m < v + w + e +f - 2m = f$, so by transversality, $V_F$ and $\f_t(W_F)$ do not intersect in the interior of $F$.
	As $F$ was an arbitrary face of $E$, we see $V_E$ and $\f_t(W_E)$ intersect only in the interior of $E$.

	In this case, both $\rm{Int}_M(\f_t(W) \times_M V, E)$ and $\rm{Int}_E(\f_t(W_E), V_E)$ consist of points $(x,y,z) \in W \times V \times E$ with $(\f_t \circ r_W)(x) = r_V (y) = \iota_E(z)$.
	We check that this is an isomorphism of signed sets.

	Consider one such intersection point.
	We first compute its contribution to $I_E(\f_t(W_E), V_E)$.
	As $\f_t(W)_E$ and $V_E$ are transverse and of complementary dimension in $E$, these spaces are embedded in $E$ near the intersection point.
	Moreover, $\f_t W$ and $V$ are embedded in $M$ near such a point, since a nontrivial $\vec v$ in the kernel of the derivative of $r_{\f_t (W)}$ would imply $(\vec v,0)\in TW\times_{TM} TE$, and it maps to $0$ in $T_M$, producing a nontrivial kernel for the derivative of $r_{\f_t(W_E)}=r_{\f_t(W)_E}$.
	Similarly for $V$ and $V_E$.
	The codimensions of $\f_t (W_E)$ and $V_E$ in $E$ agree with the codimensions of $W$ and $V$ in $M$, and their normal bundles in $E$ are the restriction of the normal bundles of $\f_t(W)$ and $V$ in $M$ where they are embedded.
	Thus we can use normal co-orientations and identify the normal co-orientation $\beta_{\f_t(W)}$ of $\f_t(W)_E$ in $E$ with the normal co-orientation of $\f_t(W)$ in $M$ and similarly for $V_E$ and $V$.
	Then the sign of the intersection is $1$ if $\beta_W \wedge \beta_V$ agrees with the orientation of $E$ and is $-1$ otherwise.

	Now consider the pull-back $(\f_t(W) \times_M V)\times_M E$.
	As $\f_t( W)$ and $V$ are embedded near $x$ and $y$, we co-orient $\f_t(W) \times_M V$ at $z$ again by $\beta_{\f_t(W)} \wedge \beta_V$ according with the properties of co-orientations of fiber products of embeddings; see \cref{T:pull-back co-or}.
	But now again the contribution to $\cI(\f_t(W) \times_M V)$ is $+1$ or $-1$ as this pair agrees or not with the orientation of $E$.
\end{proof}

\begin{corollary}\label{C:intersection signs}
	With the assumptions of \cref{L:intersection signs}, for sufficiently large $t$, $\f_t(W_E)$ and $\f_{-t}(V_E)$ are complementary in $E$ and the value of $\cI(\f_t(W) \times_M \f_{-t}(V))$ on $E$ is equal to $I_E(\f_t(W_E), \f_{-t}(V_E))$.
\end{corollary}

\begin{proof}
	By the preceding lemma, there is a $t$ large enough that $\f_{2t}(W_E)$ and $V_E$ are complementary in $E$ and the value of $\cI(\f_{2t}(W) \times_M V)$ on $E$ is equal to $I_E(\f_{2t}(W_E), V_E)$.
	Now apply the diffeomorphism $\f_{-t}$ to $\f_{2t}(W_E)$ and $V_E$.
	As $\f_{-t}$ preserves orientations and co-orientations, the corollary follows.
\end{proof}

\subsection{Graph-like neighborhoods}

We now focus on the local structure of a transverse c-manifold over $\interval^n$ around intersection points with faces of complementary dimension.
The Implicit Function Theorem guarantees that the following subspaces occur naturally in this setting.

\begin{figure}[!h]
	\centering
	\begin{subfigure}{.32\textwidth}
		\includegraphics[scale=.7]{figures/graph_like_ngbhd2.pdf}
		\hfill
	\end{subfigure}
	\begin{subfigure}{.32\textwidth}
		\hfill
		\includegraphics[scale=.7]{figures/graph_like_ngbhd.pdf}
	\end{subfigure}
	\caption{Examples of graph-like neighborhoods with $p$ in the interior of faces $F=(\emptyset, \{2,3\}, \{1\})$ and $F=(\{2\}, \{3\}, \{1\})$, respectively.
		In the diagram on the right, $F^-\times F^+$ is difficult to depict so we draw the domain $D$ in the bottom face of the cube, which is also complementary to $F$.}
	\label{F:graph like neighborhood}
\end{figure}

\begin{definition}\label{D:graph-like}
	Let $F$ be a face of $\interval^n$ and $p$ a point in its interior.
	Consider the $F$-decomposition $\interval^n \cong F^- \times F \times F^+$ and its canonical projections $\pi_F^{\perp}$ to $F^- \times F^+$ and $\pi_F$ to $F$.
	A set $C$ is said to be a \textbf{graph-like neighborhood} of $p$ if
	\begin{enumerate}
		\item $C$ is the graph of a smooth map $s \colon D \to F$, where $D$ is an open neighborhood of $\pi_F^\perp(p)$ in $F^- \times F^+$ such that $D$ intersects only the faces of $F^- \times F^+$ containing $\pi_F^\perp(p)$ and is bounded away from the other faces of $F^- \times F^+$,
		\item $s(\pi_F^\perp(p)) = p$,
		\item $C$ is bounded away from the faces of $F$ that do not contain $p$, and
		\item $C$ is transverse to all faces of $\interval^n$,
	\end{enumerate}
	where, as usual, two sets are said to be bounded away from each other if there is a positive minimum distance between every point in one and every point in the other.
\end{definition}

In general $C$ is not actually a neighborhood of $p$ in $\interval^n$ as $\dim(C)=n-\dim F$, with an extreme case being $F =\interval^n$ in which case $C$ is just a point in the interior of $F$.
For any graph-like neighborhood $C$ of a point in the interior of a face $F$, there exists by (3) $r, u \in (0,1)$ such that $C \subseteq N_rL_u(F)$ and $C \subseteq N_rU_u(F)$.

Since the logistic flow can be expressed independently in each coordinate, it preserves the property of being a graph-like neighborhood.

Suppose $W \in PC^*_{\Gamma \pf}(M)$ and $E = \interval^n$ is a cube of the cubulation of $M$.
Let $W_E$ be the pullback $W_E = W \times_M E \to E$.
Then for any $(n-\dim W)$-face $F$ of $\interval^n$, the set im$(W) \cap F$ will consists of a finite number of points near which $W_E \to E$ is locally an embedding.
By the Implicit Function Theorem, the discrete set $W \times_{M} F = W_E \times_{\interval^n} F$ can be used to parameterize a collection of graph-like neighborhoods of the points in im$(W) \cap F$.


Recall the definition of reciprocal faces of $\interval^n$, \cref{D:reciprocal}.

\begin{lemma}\label{L:flow intersection for graph-like nbhds}
	Let $F$ and $F^\prime$ faces of $\interval^n$ of complementary dimension and let $C$ and $C^\prime$ be graph-like neighborhoods of points in their respective interiors.
	If the pair $(F,F^\prime)$ is reciprocal, then for $t$ sufficiently large $\f_t(C) \cap \f_{-t}(C^\prime)$ is a single point.
	If the pair is not reciprocal then for $t$ sufficiently large this intersection is empty.
\end{lemma}

\begin{figure}[!h]
	\includegraphics[scale=.65]{figures/symmetric}
	\caption{Proof of \cref{L:flow intersection for graph-like nbhds}.}
	\label{F:intersection}
\end{figure}

\begin{proof}
	We refer the reader to \cref{F:intersection} to accompany the proof.

	First suppose the pair $(F,F^\prime)$ is reciprocal.
	This is the case if and only if there is a vertex $v$ with $v^- = F$ and $v^+ = F^\prime$.
	Let $s^\pm \colon D^\pm \subseteq v^\pm \to \interval^n = v^- \times v^+$ be sections of $\pi_{v^\pm}^\perp$ such that $C = s^+(D^+)$ and $C^\prime = s^-(D^-)$.
	Let us consider a closed $L^\infty$ $\epsilon$-neighborhood $\overline N_\epsilon(v)$ of $v$ in $\interval^n$ with $\epsilon$ small enough so that $N_\epsilon(v^\pm) \subset D^\pm$.
	Write $\overline N_\epsilon^\pm = \overline N_\epsilon(v) \cap v^\pm$.
	Let us assume $t$ large enough so that $\norm{\f_{\pm t}(s^\pm(v)) - v} < \epsilon$, which is possible because $s^\pm(v)$ are in the interiors of $v^\pm$ by assumption and $v$ is the terminal vertex of $v^-$ and the initial vertex of $v^+$.
	Let $\overline N_t^\pm = \overline N_\epsilon(v) \cap \big(\f_{\pm t}\circ s^\pm (D^\pm)\big)$.
	As $\f_t$ flows each coordinate independently, $\f_t(C)$ remains a graph of $\f_t(D)$ for all $t$.
	Therefore, by Lemmas \ref{L:flow to initial and terminal faces}, \ref{L:jacobian ratios}, and \ref{L:domain flow}, for large enough $t$ the set $\overline N_t^\pm$ will be as small a perturbation as desired of $\overline N_\epsilon^\pm$ and additionally the tangent space at each point of $\overline N_t^\pm$ will be as small a perturbation as desired of the ``plane" containing $v^\pm$.
	Therefore, since $\overline N_\epsilon^+ \cap \overline N_\epsilon^- = \{v\}$, the stability of transverse intersections implies that there exists a unique $y_t \in \overline N_t^+ \cap \overline N_t^-$.
	The lemma follows in this case since there cannot be intersections outside $\overline N_\epsilon(v) = \overline N_\epsilon(v^+) \cap \overline N_\epsilon(v^-)$ since, by \cref{L:flow to initial and terminal faces}, we can assume $t$ large enough so that $\f_t(C) \subseteq \overline N_\epsilon(v^+)$ and $\f_{-t}(C^\prime) \subseteq \overline N_\epsilon(v^-)$.

	Next we assume that the pair $(F,F^\prime)$ is not reciprocal (but still of complementary dimension).
	In particular, $F$ is not initial or $F^\prime$ is not terminal.
	Let $r,u,r^\prime,u^\prime \in (0,1)$ such that $C \subseteq N_rU_u(F)$ and $C^\prime \subseteq N_{r^\prime}L_{u^\prime}(F^\prime)$, which is possible by the definition of graph-like neighborhoods.
	First suppose $F$ is not initial.
	By \cref{L:flow to initial and terminal faces} we have that for any $\epsilon > 0$ and all $t$ sufficiently large $\f_{2t}(C) \subseteq N_\epsilon(F^+)$.
	As $F$ is not initial, $\dim F^+ < n-\dim F$, so for large enough $t$ we have $\f_{2t}(C)$ contained in a neighborhood of the $n-\dim F-1$ skeleton of $\interval^n$.
	But now $\dim(C^\prime) = n-\dim F^\prime = \dim F$, and $C^\prime$ is supposed by definition to be transverse to $\interval^n$ and bounded away from the faces of $\interval^n$ it does not intersect.
	Thus for sufficiently large $t$ we have $\f_{2t}(C)\cap C^\prime = \emptyset$, and as $\f_{-t}$ is a diffeomorphism, applying it to both terms we obtain $\f_{t}(C) \cap \f_{-t} (C^\prime) = \emptyset$.
	The argument if $F^\prime$ is not terminal is analogous.
\end{proof}

The preceding lemma showed that for large enough $t$ the intersection $\f_t(C) \cap \f_{-t}(C^\prime)$ is empty unless the pair $(F,F^\prime)$ is reciprocal, in which case the intersection is a single point.
The next lemma determines how the sign of that intersection point, when it exists, depends on the co-orientations of $C$ and $C^\prime$.

Recall that the faces of $\interval^n$ have a canonical orientation induced from the order of the basis $\{\e_1, \dots \e_n\}$.
Therefore, a \textbf{compatible co-orientation} can be defined for any graph-like neighborhood $C$ to be the normal co-orientation induced from the orientation of the face $F$ in complementary dimensions that $C$ intersects.
In other words, the compatible co-orientation of $C$ is determined by $\cI(C)(F) = +1$.
Note that $C$ is diffeomorphic to its domain $D$ and so it is a manifold with corners.
In general it will not be properly embedded so we abuse notation in writing $\cI(C)$, but the meaning should remain clear.

Recall that for $v \in \vertices(\interval^n)$ the shuffle sign $\sh(v)$ is the sign of the shuffle permutation of $\{1, \dots, n\}$ placing the ordered free variables in $v^-$ before those in $v^+$.

\begin{lemma}\label{L:sign for graph-like nbhds intersection}
	Let $v \in \vertices(\interval^n)$.
	If $C$ and $C^\prime$ are compatibly co-oriented graph-like neighborhoods of points respectively in the interiors of $v^-$ and $v^+$, then, for $t$ sufficiently large,
	\begin{equation}
		\label{E:sign flow intersection graph-like 1}
		\cI \big( \f_t(C) \times_{\interval^n} \f_{-t}(C^\prime) \big)
		\big( [\underline{0}, \underline{1}]^{\otimes n} \big) = \sh(v).\\
	\end{equation}
\end{lemma}

\begin{proof}
	We start by noticing that the hypotheses imply that $C$ and $C'$ have complementary dimensions in $\interval^n$ since $v^-$ and $v^+$ do.

	By \cref{L:flow intersection for graph-like nbhds}, the fiber product $\f_t(C) \times_{\interval^n} \f_{-t}(C^\prime)$ is a single point.
	Since the logistic flow is an orientation-preserving diffeomorphism, it preserves co-orientation as well.
	In terms of ordered bases, by \cref{T:pull-back co-or} the co-orientation of the fiber product is determined by the orientation of the normal bundle of the intersection point determined by the ordered concatenation $\beta_- \cup \beta_+$, where $\beta_\pm$ is an ordered basis representing the orientation of $v^\pm$.
	From this the claim follows.
\end{proof}

\subsection{The proof of \cref{T:main theorem}}

In this section we prove our main theorem; let us first recall its statement.
Let $M$ be a cubulated closed manifold.
For $W, V \in \cman_{\Gamma\pf}^*(M)$ and $t$ sufficiently large:
\begin{enumerate}
	\item $\f_t(W)$ and $\f_{-t}(V)$ are transverse and
	\begin{equation*}
		\cI \big( \f_t(W) \times_M \f_{-t}(V) \big) =
		\cI \big( \f_t(W) \big) \sms \cI \big( \f_{-t}(V) \big).
	\end{equation*}
	\item $\f_{-t}(W)$ and $\f_t(V)$ are transverse and
	\begin{equation*}
		\cI \big( \f_{-t}(W) \times_M \f_t(V) \big) =
		(-1)^{|W||V|} \, \cI \big( \f_t(V) \big) \sms \cI \big( \f_{-t}(W) \big),
	\end{equation*}
	where $|W||V|$ is the product of the codimensions of $W$ and $V$ over $M$.
\end{enumerate}

The transversality statement was proven as \cref{T:transversality}.
By \cref{P:locality} and \cref{C:intersection signs}, it suffices to consider pull-backs over an arbitrary $n$-face, where $n$ is the sum of the codimensions of $V$ and $W$ over $M$.
We identify this face with $\interval^n$ and, by abuse, denote the pull-backs of $V$ and $W$ over this face also by $V$ and $W$.

Let us consider (1) first.
Since $W$ is transverse to all faces of $\interval^n$ in particular we have that its intersection with faces of complementary dimension are discrete.
By the Implicit Function Theorem, for any such $F$ there are local neighborhoods in $W$ of the points in $W \cap F$ which are graph-like.
Furthermore, the pull-back $W \times_{\interval^n} F$ can be used to parameterize these graph-like neighborhoods, which we assume equipped with the co-orientation induced from $W$.
We use this co-orientation to endow $W \times_{\interval^n} F$ with a sign function,
sending an element to $+1$ if the orientation of the normal bundle to the graph-like neighborhood given by its co-orientation agrees
with the orientation of $F$ and to $-1$ if not.
A similar situation applies when considering $V$ and faces of dimension $\dim W$.

Let $\Ginit_W$ (resp. $\Gterm_V$) be the union of the parameterizing sets of these neighborhoods over initial (resp. terminal) faces.
Explicitly,
\begin{equation*}
	\Ginit_W\ =
	\bigcup_{F \in \init_{\dim V}(\interval^n)} W \times_{\interval^n} F
	\qquad \text{ and } \qquad
	\Gterm_W\ =
	\bigcup_{F^\prime \in \term_{\dim W}(\interval^n)} V \times_{\interval^n} F^\prime.
\end{equation*}
Moreover, let
\begin{equation*}
	Z_W^\init =\, W\ \setminus \bigcup_{p \in \Ginit_W} C_p
	\qquad \text{ and } \qquad
	Z_V^\term =\, V\ \setminus \bigcup_{p \in \Gterm_V} C_p^\prime.
\end{equation*}

If $\dim V=n$, then $Z_W^\init=\emptyset$, and similarly if $\dim V=0$ then $Z_V^\term=\emptyset$.
So we focus on $\dim V<n$.
We notice that $Z_W^\init$ is contained in the complement of a neighborhood $\init_{\dim V}(\interval^n)$.
Therefore, no point in $Z_W^\init$ can have $n-\dim V$ (or more) coordinates equal to $0$, and in fact we can assume there is an $\eta>0$
so that every point of $Z_W^\init$ has more than $\dim V$ coordinates that are larger than $\eta$.
So, for any $\epsilon>0$ we can choose a large enough $t$ to ensure that every point of $\f_t(Z_W^\init)$ has more than $\dim V$ coordinates greater than
$1-\epsilon$.
In other words, $\f_t(Z_W^\init)$ can be contained in any given neighborhood of $\term_{n-\dim V-1}(\interval^n)$.

As $V$ maps properly and transversely to $\interval^n$, there is a neighborhood of the $n-\dim(V)-1$ skeleton of $\interval^n$ that is disjoint from $V$, and so we have shown that $\f_t(Z_W^\init) \cap V = \emptyset$ for large enough $t$.
Replacing $t$ with $2t$ in the preceding sentence and then applying $\f_{-t}$ to $\f_{2t}(Z_W^\init)$ and $V$ we obtain that $\f_t(Z_W^\init) \cap \f_{-t}(V) = \emptyset$ for large enough $t$.
Similarly, we can find $t$ large enough so that $\f_{t}(W) \cap \f_{-t}(Z_V^\term) = \emptyset$.
This shows that
\begin{equation}\label{E:reduction to C}
	\f_t(W) \times_{\interval^n} \f_{-t}(V) = \f_t \left( \bigcup_{p \in \Ginit_W} C_p \right) \times_{\interval^n} \f_{-t} \left( \bigcup_{p \in \Gterm_V} C_p^\prime \right).
\end{equation}

\cref{L:flow intersection for graph-like nbhds} now implies that for $t$ large enough the discrete set \eqref{E:reduction to C} is in bijection with the discrete set
\begin{equation*}
	S\ \ =\!\! \bigcup_{v \in \vertices(\interval^n)} \left(W \times_{\interval^n} v^-\right) \times \left(V \times_{\interval^n} v^+\right) \ \subseteq\ \Ginit_W \times \Gterm_V,
\end{equation*}
where we are running over vertices so that the sum of the dimensions of $v^-$ and $v^+$ is $n$.
Considering $\left(W \times_{\interval^n} v^-\right)$ and $\left(V \times_{\interval^n} v^+\right)$ as signed sets as just above, we define a sign function on $S$ by sending a pair $(\xi, \eta) \in S$ to the product of the sign of $\xi \in \left(W \times_{\interval^n} v^-\right)$, the sign of $\eta \in \left(V \times_{\interval^n} v^+\right)$, and the shuffle sign of $v$.
As described in \cref{L:sign for graph-like nbhds intersection}, this sign function makes the bijection between $\f_t(W) \times_{\interval^n} \f_{-t}(V)$ and $S$ sign-preserving.

As we now have a signed bijection of $\f_t(W) \times_{\interval^n} \f_{-t}(V)$ and $S$, comparing with the Serre diagonal in \cref{P:diagonal in terms of vertices} gives
\begin{align*}
	\cI (\f_t(W) \times_{\interval^n} \f_{-t}(V)) \left([\underline{0}, \underline{1}]^{\otimes n}\right) = &
	\sum_{v \in \vertices(\interval^n)} \sh(v) \cdot \cI(\f_t(W))(v^-) \cdot \cI(\f_{-t}(V))(v^+) \\ = & \
	\cI(\f_t(W)) \sms \cI(\f_{-t}(V)) \left([\underline{0}, \underline{1}]^{\otimes n}\right)
\end{align*}
for $t$ sufficiently large.

To prove (2), we first interchange the roles of $V$ and $W$ in (1) to obtain
\begin{equation*}
	\cI \big( \f_t(V) \times_M \f_{-t}(W) \big) =
	\cI \big( \f_t(V) \big) \sms \cI \big( \f_{-t}(W) \big).
\end{equation*}
But now $\f_t(V) \times_M \f_{-t}(W)=(-1)^{|V||W|}\f_{-t}(W) \times_M \f_{t}(V)$ by \cref{T:pull-back co-or}.
\hfill\qedsymbol